(this["webpackJsonpprofit-test"]=this["webpackJsonpprofit-test"]||[]).push([[0],{17:function(t,e,n){t.exports={button:"Button_button__n3v4e"}},19:function(t,e,n){t.exports={input:"Ping_input__2kDLl"}},26:function(t,e,n){},4:function(t,e,n){t.exports={App:"App_App__2QW3m","App-logo":"App_App-logo__k828e","App-logo-spin":"App_App-logo-spin__3BgA3","App-header":"App_App-header__3wuzV","App-link":"App_App-link__10Fgw",indicator:"App_indicator__18_7v"}},46:function(t,e,n){"use strict";n.r(e);var s=n(2),a=n.n(s),i=n(14),c=n.n(i),o=(n(26),n(15)),r=n(16),u=n(21),p=n(20),l=n(17),g=n.n(l),d=n(0);var h=function(t){var e=t.text,n=t.handler;return Object(d.jsx)("button",{className:g.a.button,onClick:n,children:e})},j=n(4),v=n.n(j),x=n(5),S=n(18),b=n.n(S),m=n(19),A=n.n(m);function f(){var t=Object(s.useState)(""),e=Object(x.a)(t,2),n=e[0],a=e[1],i=Object(s.useState)(0),c=Object(x.a)(i,2),o=c[0],r=c[1];return Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{type:"text",value:n,name:"input",className:A.a.input,onChange:function(t){a(t.target.value)}}),Object(d.jsx)(h,{text:"Ping",handler:function(){var t=new Date;b.a.get(n).then((function(e){r(new Date-t),console.log(e)})).catch((function(e){r(new Date-t),console.log(e)}))}}),Object(d.jsx)("p",{children:o||null})]})}var _=new WebSocket("wss://trade.trademux.net:8800/?password=1234"),O=function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).state={ws:null,disconnected:!0,messagesQuantity:0,sum:0,average:0,xMinusAverageSqr:0,xMinusAverageSqrSum:0,showStatistic:!1},t.incomingMessageListener=function(e){var n=JSON.parse(e.data);t.setState({messagesQuantity:t.state.messagesQuantity+1,sum:t.state.sum+n.value},(function(){t.setState({average:t.state.sum/t.state.messagesQuantity,xMinusAverageSqr:Math.pow(n.value-t.state.average,2)},t.setState({xMinusAverageSqrSum:t.state.xMinusAverageSqrSum+t.state.xMinusAverageSqr})),console.log(t.state)}))},t.startConnection=function(){t.setState({ws:_,disconnected:!1}),_.addEventListener("message",t.incomingMessageListener)},t.closeSocket=function(){t.setState({ws:null,disconnected:!0})},t.showStatistic=function(){_.close(),t.closeSocket(),t.setState({showStatistic:!0})},t}return Object(r.a)(n,[{key:"render",value:function(){var t=Math.sqrt(this.state.xMinusAverageSqrSum/(this.state.messagesQuantity-1));return Object(d.jsxs)("div",{className:v.a.App,children:[Object(d.jsx)(h,{text:"\u0421\u0442\u0430\u0440\u0442",handler:this.startConnection}),Object(d.jsx)(h,{text:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430",handler:this.showStatistic}),this.state.disconnected?null:Object(d.jsx)("div",{className:v.a.indicator}),this.state.showStatistic?Object(d.jsxs)("p",{children:[" \u0421\u0440\u0435\u0434\u043d\u0435\u0435 \u0430\u0440\u0438\u0444\u043c\u0435\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 ",this.state.average.toFixed(2),". \u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0435 \u043e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u0438\u0435 ",t.toFixed(2)," "]}):null,Object(d.jsx)(f,{})]})}}]),n}(s.Component),w=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,47)).then((function(e){var n=e.getCLS,s=e.getFID,a=e.getFCP,i=e.getLCP,c=e.getTTFB;n(t),s(t),a(t),i(t),c(t)}))};c.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(O,{})}),document.getElementById("root")),w()}},[[46,1,2]]]);
//# sourceMappingURL=main.c21983c7.chunk.js.map